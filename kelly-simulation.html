<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8"/>
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="canonical" href="https://www.betlegendpicks.com/kelly-simulation.html"/>

 <title>Kelly Criterion Simulation: Watch Your Bankroll Grow (Visual Proof)</title>
 <meta name="description" content="See exactly what happens to a $1,000 bankroll over 500 bets. Visual simulation comparing Full Kelly, Half Kelly, Quarter Kelly, and Flat betting strategies."/>
 <meta name="keywords" content="Kelly Criterion simulation, bankroll growth, betting strategy comparison, Kelly vs flat betting"/>
 <meta name="robots" content="index, follow">

 <meta property="og:type" content="article">
 <meta property="og:url" content="https://www.betlegendpicks.com/kelly-simulation.html">
 <meta property="og:title" content="Kelly Criterion Simulation - Visual Bankroll Growth Proof">
 <meta property="og:description" content="Watch what happens to your bankroll over 500 bets. Compare Full Kelly, Half Kelly, Quarter Kelly, and Flat betting visually.">
 <meta property="og:image" content="https://www.betlegendpicks.com/newlogo.png">

 <meta name="twitter:card" content="summary_large_image">
 <meta name="twitter:title" content="Kelly Criterion Simulation | BetLegend">
 <meta name="twitter:description" content="Visual proof of how Kelly Criterion grows your bankroll over hundreds of bets.">

 <script type="application/ld+json">
 {
 "@context": "https://schema.org",
 "@type": "SoftwareApplication",
 "name": "Kelly Criterion Bankroll Simulator",
 "applicationCategory": "FinanceApplication",
 "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"},
 "description": "Visual simulation showing bankroll growth under different Kelly betting strategies"
 }
 </script>

 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Poppins:wght@300;400;600&family=Rubik:wght@400;500;600;700&display=swap" rel="stylesheet">

 <style>
 :root {
 --bg-color: #0a0a0f;
 --text-color: #eaf8ff;
 --neon-cyan: #00e0ff;
 --neon-gold: #FFD700;
 --neon-green: #00ff88;
 --neon-orange: #ff8800;
 --neon-purple: #aa66ff;
 }

 * { margin: 0; padding: 0; box-sizing: border-box; }
 html { scroll-behavior: smooth; }

 body {
 font-family: 'Rubik', sans-serif;
 background: var(--bg-color);
 color: var(--text-color);
 min-height: 100vh;
 padding: 40px 20px;
 line-height: 1.7;
 }

 .container {
 max-width: 1000px;
 margin: 0 auto;
 }

 h1 {
 font-family: 'Orbitron', sans-serif;
 font-size: 2.2rem;
 color: var(--neon-gold);
 text-align: center;
 margin-bottom: 15px;
 text-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
 }

 .subtitle {
 text-align: center;
 font-size: 1.1rem;
 color: #888;
 margin-bottom: 40px;
 max-width: 600px;
 margin-left: auto;
 margin-right: auto;
 }

 .sim-controls {
 background: linear-gradient(135deg, rgba(0, 224, 255, 0.08), rgba(0, 224, 255, 0.02));
 border: 2px solid rgba(0, 224, 255, 0.3);
 border-radius: 15px;
 padding: 30px;
 margin-bottom: 30px;
 }

 .controls-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
 gap: 20px;
 margin-bottom: 25px;
 }

 .control-group label {
 display: block;
 color: var(--neon-cyan);
 font-weight: 600;
 margin-bottom: 8px;
 font-size: 0.9rem;
 }

 .control-group input {
 width: 100%;
 padding: 12px;
 background: rgba(0, 0, 0, 0.5);
 border: 2px solid rgba(0, 224, 255, 0.2);
 border-radius: 8px;
 color: white;
 font-size: 1rem;
 font-family: inherit;
 }

 .control-group input:focus {
 outline: none;
 border-color: var(--neon-cyan);
 }

 .run-btn {
 width: 100%;
 padding: 16px;
 background: linear-gradient(135deg, var(--neon-cyan), var(--neon-gold));
 border: none;
 border-radius: 10px;
 color: #000;
 font-size: 1.2rem;
 font-weight: 700;
 font-family: 'Orbitron', sans-serif;
 cursor: pointer;
 transition: all 0.3s;
 text-transform: uppercase;
 }

 .run-btn:hover {
 transform: translateY(-2px);
 box-shadow: 0 8px 25px rgba(0, 224, 255, 0.4);
 }

 .chart-container {
 background: rgba(0, 0, 0, 0.4);
 border: 2px solid rgba(255, 215, 0, 0.3);
 border-radius: 15px;
 padding: 25px;
 margin-bottom: 30px;
 }

 .chart-title {
 font-family: 'Orbitron', sans-serif;
 color: var(--neon-gold);
 font-size: 1.3rem;
 margin-bottom: 20px;
 text-align: center;
 }

 #simChart {
 width: 100%;
 height: 400px;
 background: #0d0d12;
 border-radius: 10px;
 }

 .legend {
 display: flex;
 justify-content: center;
 gap: 25px;
 flex-wrap: wrap;
 margin-top: 20px;
 }

 .legend-item {
 display: flex;
 align-items: center;
 gap: 8px;
 font-size: 0.9rem;
 }

 .legend-color {
 width: 20px;
 height: 4px;
 border-radius: 2px;
 }

 .results-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
 gap: 15px;
 margin-bottom: 30px;
 }

 .result-card {
 background: rgba(0, 0, 0, 0.4);
 border: 2px solid rgba(255, 255, 255, 0.1);
 border-radius: 12px;
 padding: 20px;
 text-align: center;
 }

 .result-card.full { border-color: var(--neon-green); }
 .result-card.half { border-color: var(--neon-cyan); }
 .result-card.quarter { border-color: var(--neon-orange); }
 .result-card.flat { border-color: var(--neon-purple); }

 .result-label {
 font-size: 0.85rem;
 color: #888;
 margin-bottom: 5px;
 }

 .result-value {
 font-family: 'Orbitron', sans-serif;
 font-size: 1.5rem;
 font-weight: 700;
 }

 .result-card.full .result-value { color: var(--neon-green); }
 .result-card.half .result-value { color: var(--neon-cyan); }
 .result-card.quarter .result-value { color: var(--neon-orange); }
 .result-card.flat .result-value { color: var(--neon-purple); }

 .result-sub {
 font-size: 0.8rem;
 color: #666;
 margin-top: 5px;
 }

 .insight-box {
 background: rgba(255, 215, 0, 0.08);
 border-left: 4px solid var(--neon-gold);
 padding: 20px 25px;
 border-radius: 0 10px 10px 0;
 margin-bottom: 30px;
 }

 .insight-box h3 {
 color: var(--neon-gold);
 font-size: 1.1rem;
 margin-bottom: 10px;
 }

 .insight-box p {
 color: #ccc;
 font-size: 1rem;
 line-height: 1.7;
 }

 .edu-section {
 background: rgba(0, 224, 255, 0.05);
 border: 1px solid rgba(0, 224, 255, 0.2);
 border-radius: 15px;
 padding: 30px;
 margin-bottom: 30px;
 }

 .edu-section h2 {
 font-family: 'Orbitron', sans-serif;
 color: var(--neon-cyan);
 font-size: 1.4rem;
 margin-bottom: 15px;
 }

 .edu-section p {
 color: #bbb;
 font-size: 1rem;
 line-height: 1.8;
 margin-bottom: 15px;
 }

 .edu-section p:last-child {
 margin-bottom: 0;
 }

 .back-link {
 text-align: center;
 margin-top: 40px;
 padding-top: 30px;
 border-top: 1px solid rgba(255, 255, 255, 0.1);
 }

 .back-link a {
 color: #888;
 text-decoration: none;
 font-size: 0.95rem;
 transition: color 0.2s;
 }

 .back-link a:hover {
 color: var(--neon-gold);
 }

 @media (max-width: 600px) {
 h1 { font-size: 1.6rem; }
 .controls-grid { grid-template-columns: 1fr 1fr; }
 #simChart { height: 300px; }
 .legend { gap: 15px; }
 .result-value { font-size: 1.2rem; }
 }
 </style>
</head>
<body>

<div class="container">
 <h1>Kelly Criterion Simulation</h1>
 <p class="subtitle">Watch what happens to your bankroll over hundreds of bets. Visual proof that bet sizing matters.</p>

 <div class="edu-section">
 <h2>Why You Need a Kelly Criterion Simulation Before Risking Real Money</h2>
 <p>Here's the truth most bettors learn the hard way: knowing the <a href="kelly-criterion.html" style="color: var(--neon-cyan);">Kelly Criterion formula</a> isn't the same as understanding what it actually does to your bankroll over time. The math on paper looks clean. Plug in your win rate, plug in your odds, get a percentage. Simple, right? But the real world isn't a formula on paper. It's hundreds of bets strung together, each one influenced by randomness, variance, and the uncomfortable reality that losing streaks happen to everyone, even sharp bettors with a legitimate edge.</p>
 <p>That's exactly why this Kelly Criterion simulation exists. Instead of trusting a single number, you can watch four different betting strategies play out side by side over hundreds of simulated wagers. You'll see how Full Kelly, Half Kelly, Quarter Kelly, and flat betting each handle the same sequence of wins and losses. And you'll notice something that surprises most people: the "mathematically optimal" strategy isn't always the one you'd want to use in practice.</p>
 <p>If you've already read our <a href="kelly-criterion-explained.html" style="color: var(--neon-cyan);">complete guide to the Kelly Criterion</a>, you know the formula maximizes the long-term geometric growth rate of your bankroll. That's a powerful concept. But "long-term" is doing a lot of heavy lifting in that sentence. Over 50 bets, variance dominates. Over 500, the edge starts to emerge. Over 5,000, the math converges toward its theoretical optimum. The simulation below lets you see this convergence in action, and it reveals why so many professional bettors choose to bet a fraction of the full Kelly recommendation.</p>
 </div>

 <div class="edu-section">
 <h2>How to Use This Bankroll Growth Simulator</h2>
 <p>The controls below let you customize four key inputs. <strong>Starting Bankroll</strong> is whatever amount you're working with. It doesn't matter if it's $100 or $100,000 because the Kelly Criterion works on percentages, not dollar amounts. The growth curves scale proportionally regardless of your starting point.</p>
 <p><strong>Win Probability</strong> is your honest assessment of how often you expect to win a given bet type. For context, a 54% win rate against -110 odds represents a solid edge that many experienced handicappers maintain over large sample sizes. If you're just starting out, be conservative here. Overestimating your edge is one of the <a href="kelly-criterion-mistakes.html" style="color: var(--neon-cyan);">most common Kelly Criterion mistakes</a> and it leads to overbetting, which the simulation will show you in vivid detail.</p>
 <p><strong>American Odds</strong> represents the price you're getting. The default of -110 reflects the standard juice on a point spread bet at most sportsbooks. Try adjusting this to see how plus-money odds dramatically change the Kelly percentage and the growth curves. At +150, even a 40% win rate can produce a positive Kelly edge.</p>
 <p><strong>Number of Bets</strong> controls the simulation length. Start with 500, then try 50, 200, and 2,000. You'll quickly see how sample size changes the reliability of outcomes. Small samples are noisy. Large samples reveal the true power (or weakness) of each strategy.</p>
 <p>Click "Run Simulation" multiple times with the same inputs. Each run generates a different random sequence of wins and losses, but all four strategies experience that identical sequence. This is critical because it means every comparison is fair. The only variable is the bet sizing method.</p>
 </div>

 <div class="sim-controls">
 <div class="controls-grid">
 <div class="control-group">
 <label>Starting Bankroll ($)</label>
 <input type="number" id="startBankroll" value="1000" min="100">
 </div>
 <div class="control-group">
 <label>Win Probability (%)</label>
 <input type="number" id="winProb" value="54" min="50" max="70" step="0.5">
 </div>
 <div class="control-group">
 <label>American Odds</label>
 <input type="number" id="odds" value="-110">
 </div>
 <div class="control-group">
 <label>Number of Bets</label>
 <input type="number" id="numBets" value="500" min="50" max="2000">
 </div>
 </div>
 <button class="run-btn" onclick="runSimulation()">Run Simulation</button>
 </div>

 <div class="chart-container">
 <div class="chart-title">Bankroll Growth Over Time</div>
 <canvas id="simChart"></canvas>
 <div class="legend">
 <div class="legend-item">
 <div class="legend-color" style="background: #00ff88;"></div>
 <span>Full Kelly</span>
 </div>
 <div class="legend-item">
 <div class="legend-color" style="background: #00e0ff;"></div>
 <span>Half Kelly</span>
 </div>
 <div class="legend-item">
 <div class="legend-color" style="background: #ff8800;"></div>
 <span>Quarter Kelly</span>
 </div>
 <div class="legend-item">
 <div class="legend-color" style="background: #aa66ff;"></div>
 <span>Flat (2%)</span>
 </div>
 </div>
 </div>

 <div class="results-grid">
 <div class="result-card full">
 <div class="result-label">Full Kelly Final</div>
 <div class="result-value" id="fullFinal">$1,000</div>
 <div class="result-sub" id="fullGrowth">+0%</div>
 </div>
 <div class="result-card half">
 <div class="result-label">Half Kelly Final</div>
 <div class="result-value" id="halfFinal">$1,000</div>
 <div class="result-sub" id="halfGrowth">+0%</div>
 </div>
 <div class="result-card quarter">
 <div class="result-label">Quarter Kelly Final</div>
 <div class="result-value" id="quarterFinal">$1,000</div>
 <div class="result-sub" id="quarterGrowth">+0%</div>
 </div>
 <div class="result-card flat">
 <div class="result-label">Flat Betting Final</div>
 <div class="result-value" id="flatFinal">$1,000</div>
 <div class="result-sub" id="flatGrowth">+0%</div>
 </div>
 </div>

 <div class="insight-box" id="insightBox">
 <h3>Key Insight</h3>
 <p id="insightText">Run the simulation to see how different betting strategies perform over time. Each run uses the same random outcomes for fair comparison.</p>
 </div>

 <div class="edu-section">
 <h2>What This Simulation Shows</h2>
 <p>This simulation runs your specified number of bets using the same win/loss sequence for all four strategies. Each bet outcome is determined by your win probability, then all strategies experience that same outcome, allowing for a fair comparison.</p>
 <p><strong>Full Kelly</strong> bets the mathematically optimal percentage for maximum growth, but experiences the wildest swings. <strong>Half Kelly</strong> bets 50% of full Kelly, providing 75% of the growth with much lower volatility. <strong>Quarter Kelly</strong> is more conservative, ideal for uncertain edges. <strong>Flat betting</strong> at 2% per bet is the simplest approach, with minimal variance.</p>
 <p>Run the simulation multiple times. You will see that Full Kelly often ends highest, but sometimes crashes hard. Half Kelly provides the best balance of growth and stability for most bettors.</p>
 </div>

 <div class="edu-section">
 <h2>Why This Matters for Your Betting</h2>
 <p>Most bettors either bet randomly or use flat betting without understanding why. The Kelly Criterion tells you exactly how much to bet based on your edge. But here is the key insight: even with an edge, full Kelly is too aggressive for most people.</p>
 <p>Notice how Full Kelly has the highest peaks but also the deepest valleys. A 54% win rate at -110 odds gives you about a 2.7% edge, but variance can still crush you short-term with full Kelly. Half Kelly smooths out those swings while still growing your bankroll significantly over time.</p>
 <p>The simulation proves what professionals already know: fractional Kelly is the sweet spot. You capture most of the growth while sleeping better at night.</p>
 </div>

 <div class="edu-section">
 <h2>Why Fractional Kelly Produces Smoother Bankroll Growth Curves</h2>
 <p>Run the simulation a dozen times and pay close attention to the green line (Full Kelly) versus the blue line (Half Kelly). You'll notice the green line swings wildly, sometimes soaring to incredible heights, sometimes cratering during bad stretches. The blue line tells a different story. It grows more steadily, with shallower dips and more predictable upward trajectory. This isn't a coincidence. It's a fundamental property of proportional betting at different fractions of Kelly.</p>
 <p>The reason comes down to how <a href="bankroll-management/variance.html" style="color: var(--neon-cyan);">variance</a> compounds over time. When you bet a large percentage of your bankroll on each wager (Full Kelly), a losing streak takes a bigger bite out of your capital. And since your next bet is a percentage of your now-smaller bankroll, you need a proportionally larger winning streak just to get back to where you were. This is the asymmetry of percentage-based losses: a 50% drawdown requires a 100% recovery.</p>
 <p>Half Kelly cuts the bet size in half, which means losing streaks hurt roughly half as much. The mathematical tradeoff is well-documented: <a href="kelly-criterion/fractional-vs-full.html" style="color: var(--neon-cyan);">Half Kelly captures approximately 75% of the growth rate of Full Kelly while experiencing only about 25% of the variance</a>. That's a remarkable efficiency gain. You're giving up a quarter of the theoretical growth in exchange for dramatically less volatility. For anyone who isn't betting with infinite patience and zero emotional response to drawdowns, that's a trade worth making every single time.</p>
 <p>Quarter Kelly takes this even further, smoothing the curve to near-linear growth at the cost of slower compounding. It's ideal for bettors who are still calibrating their edge, because if your actual win rate turns out to be lower than you estimated, Quarter Kelly provides a larger margin of safety before your bankroll enters dangerous territory.</p>
 </div>

 <div class="edu-section">
 <h2>How Sample Size Changes Everything in a Kelly Criterion Simulation</h2>
 <p>One of the most important lessons this simulator teaches has nothing to do with which strategy is "best." It's about how many bets you need before any strategy reveals its true character. Try this experiment: set the number of bets to 50 and run the simulation ten times. You'll find that in some runs, flat betting beats Full Kelly. In others, Quarter Kelly finishes on top. The results look almost random, and in a sense, they are. Over short horizons, luck dominates skill.</p>
 <p>Now set it to 2,000 bets and repeat. Suddenly, the hierarchy becomes much more consistent. Full Kelly almost always finishes highest (assuming you've entered an accurate win probability). Half Kelly reliably comes in second. The curves separate more clearly, and you can actually see the edge expressing itself through the noise of randomness. This is convergence in action, and it's the reason professional bettors think in terms of thousands of wagers, not dozens.</p>
 <p>This has profound practical implications. If you're placing 5 bets a week, it takes roughly two years to reach 500 bets and four years to reach 1,000. Over that timeline, patience isn't just a virtue, it's the entire game plan. The simulation helps you internalize this truth: your edge only materializes if you stay in the game long enough for the math to work. And staying in the game means protecting your bankroll from devastating drawdowns, which is precisely why fractional Kelly strategies exist.</p>
 </div>

 <div class="edu-section">
 <h2>What to Look for When Comparing Betting Strategies</h2>
 <p>When you run the simulation and see four lines on the chart, don't just look at which line finishes highest. That's the most obvious metric, but it misses the full picture. Instead, focus on these three things that separate informed bettors from everyone else.</p>
 <p><strong>Maximum drawdown.</strong> Look at the deepest valley each strategy hits during the simulation. Full Kelly regularly experiences drawdowns of 40-60% or more, even with a genuine edge. Imagine watching your $1,000 bankroll drop to $400 knowing you're a winning bettor. Most people can't handle that psychologically. Half Kelly's worst drawdowns are typically in the 20-30% range, which is much easier to stomach. Understanding <a href="bankroll-management/risk-of-ruin.html" style="color: var(--neon-cyan);">risk of ruin</a> helps you appreciate why these drawdowns matter so much.</p>
 <p><strong>Path consistency.</strong> Run the simulation five times and compare how similar each strategy's paths look across runs. Flat betting produces nearly identical paths every time because the bet size doesn't change. Full Kelly produces wildly different paths because each bet compounds off the previous outcome. Half and Quarter Kelly fall somewhere in between. If you value predictability (and you should), this consistency metric matters more than final balance.</p>
 <p><strong>Recovery speed.</strong> After a drawdown, how quickly does each strategy climb back? Full Kelly recovers fastest during winning streaks because it's betting the largest amount. But it also digs the deepest holes. Half Kelly offers a better balance, recovering reasonably quickly without the gut-wrenching lows. Pay attention to how long each strategy spends below its starting bankroll. That's time you'd be sweating in real life.</p>
 </div>

 <div class="edu-section">
 <h2>What "Optimal" Really Means Over Hundreds vs. Thousands of Bets</h2>
 <p>The Kelly Criterion is often called the "optimal" bet sizing strategy, and that's technically correct, but only under a very specific definition of optimal. Kelly maximizes the expected logarithmic growth of your bankroll. In plain language, it's the strategy that gets your bankroll to any given target amount in the fewest number of bets, on average, over an infinite time horizon. That's a powerful guarantee, but it comes with caveats that the simulation makes viscerally obvious.</p>
 <p>Over hundreds of bets, "optimal" doesn't always feel optimal. Run a 200-bet simulation and you might see Full Kelly end at $800 while Half Kelly ends at $1,400. That isn't a fluke. It happens regularly because the Kelly criterion's optimality is a property of the limit, not any individual sequence. Over 200 bets, variance can easily overwhelm the theoretical edge, and Full Kelly's aggressive sizing amplifies that variance in both directions.</p>
 <p>Over thousands of bets, the picture changes dramatically. The theoretical optimality starts to shine through. Full Kelly's final balance will almost always exceed every other strategy. But "almost always" still isn't "always," and the psychological cost of the journey matters. You can see real-world <a href="kelly-criterion/examples.html" style="color: var(--neon-cyan);">Kelly Criterion examples</a> where this plays out in practice across different sports and bet types.</p>
 <p>This is why the smartest approach for most sports bettors is to use the simulation as a reality check. Enter your honest win probability, your typical odds, and a realistic number of bets for your timeline. Then ask yourself: can I actually live with the drawdowns Full Kelly produces? If the answer is no (and for most people, it will be), fractional Kelly isn't a compromise. It's the smarter choice for your specific situation, even though it's technically suboptimal in the strict mathematical sense.</p>
 </div>

 <div class="edu-section">
 <h2>Turning Simulation Insights Into a Real Betting Strategy</h2>
 <p>Running simulations is illuminating, but it only matters if you translate what you see into disciplined real-world behavior. Here's how to bridge that gap. First, <a href="kelly-criterion.html" style="color: var(--neon-cyan);">calculate your Kelly percentage</a> using our calculator with your best estimate of your win rate and the odds you typically bet. Then cut that number in half. That's your starting bet size as a percentage of your current bankroll.</p>
 <p>Second, commit to reassessing your edge regularly. The simulation assumes a fixed win probability, but in real betting, your edge fluctuates. Sportsbooks adjust, your information decays, and market efficiency shifts over time. If your last 200 bets show a 52% win rate instead of the 55% you assumed, you need to adjust your Kelly fraction downward. Overestimating your edge is the single most dangerous input error, and it's the one the formula can't protect you against.</p>
 <p>Third, use the simulation to set realistic expectations. If Half Kelly with your inputs shows substantial growth over 500 bets in most runs, that's your realistic ceiling. Don't expect to double your bankroll in a month. Don't chase losses because you're "behind schedule." The simulation shows you what patient, disciplined growth actually looks like, and it's slower than most people want to admit. But slow, consistent growth beats reckless gambling every single time.</p>
 <p>Finally, remember that the simulation's greatest lesson isn't about which strategy grows fastest. It's about which strategy keeps you in the game. A bankroll that goes to zero produces zero future profits, no matter how great your edge is. The best bet sizing strategy is the one that lets you make it to bet number 1,000, and then 2,000, and then 5,000. That's where the real money is made.</p>
 </div>

 <div class="back-link">
 <a href="kelly-criterion.html">Calculate your optimal bet size</a>
 </div>
</div>

<script>
function runSimulation() {
 const startBankroll = parseFloat(document.getElementById('startBankroll').value) || 1000;
 const winProb = parseFloat(document.getElementById('winProb').value) / 100 || 0.54;
 const americanOdds = parseFloat(document.getElementById('odds').value) || -110;
 const numBets = parseInt(document.getElementById('numBets').value) || 500;

 // Convert American odds to decimal
 let decimalOdds;
 if (americanOdds > 0) {
 decimalOdds = 1 + (americanOdds / 100);
 } else {
 decimalOdds = 1 + (100 / Math.abs(americanOdds));
 }

 // Calculate full Kelly percentage
 const fullKellyPct = ((decimalOdds * winProb) - 1) / (decimalOdds - 1);

 // Generate random outcomes (same for all strategies)
 const outcomes = [];
 for (let i = 0; i < numBets; i++) {
 outcomes.push(Math.random() < winProb);
 }

 // Simulate each strategy
 const fullKelly = simulateStrategy(startBankroll, outcomes, fullKellyPct, decimalOdds);
 const halfKelly = simulateStrategy(startBankroll, outcomes, fullKellyPct * 0.5, decimalOdds);
 const quarterKelly = simulateStrategy(startBankroll, outcomes, fullKellyPct * 0.25, decimalOdds);
 const flatBetting = simulateFlatStrategy(startBankroll, outcomes, 0.02, decimalOdds);

 // Draw chart
 drawChart(fullKelly, halfKelly, quarterKelly, flatBetting);

 // Update results
 updateResults('full', fullKelly, startBankroll);
 updateResults('half', halfKelly, startBankroll);
 updateResults('quarter', quarterKelly, startBankroll);
 updateResults('flat', flatBetting, startBankroll);

 // Generate insight
 generateInsight(fullKelly, halfKelly, quarterKelly, flatBetting, startBankroll);
}

function simulateStrategy(bankroll, outcomes, kellyPct, decimalOdds) {
 const history = [bankroll];
 let current = bankroll;

 for (let i = 0; i < outcomes.length; i++) {
 if (current <= 0) {
 history.push(0);
 continue;
 }

 const betSize = current * Math.max(0, kellyPct);
 if (outcomes[i]) {
 current += betSize * (decimalOdds - 1);
 } else {
 current -= betSize;
 }
 history.push(Math.max(0, current));
 }

 return history;
}

function simulateFlatStrategy(bankroll, outcomes, flatPct, decimalOdds) {
 const history = [bankroll];
 let current = bankroll;
 const flatBet = bankroll * flatPct;

 for (let i = 0; i < outcomes.length; i++) {
 if (current <= 0) {
 history.push(0);
 continue;
 }

 const betSize = Math.min(flatBet, current);
 if (outcomes[i]) {
 current += betSize * (decimalOdds - 1);
 } else {
 current -= betSize;
 }
 history.push(Math.max(0, current));
 }

 return history;
}

function drawChart(full, half, quarter, flat) {
 const canvas = document.getElementById('simChart');
 const ctx = canvas.getContext('2d');

 // Set actual size
 const rect = canvas.getBoundingClientRect();
 canvas.width = rect.width * 2;
 canvas.height = rect.height * 2;
 ctx.scale(2, 2);

 const width = rect.width;
 const height = rect.height;
 const padding = { top: 20, right: 20, bottom: 40, left: 70 };

 // Clear
 ctx.fillStyle = '#0d0d12';
 ctx.fillRect(0, 0, width, height);

 // Find max value for scaling
 const allValues = [...full, ...half, ...quarter, ...flat];
 const maxVal = Math.max(...allValues) * 1.1;
 const minVal = 0;

 const chartWidth = width - padding.left - padding.right;
 const chartHeight = height - padding.top - padding.bottom;

 // Draw grid lines
 ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
 ctx.lineWidth = 0.5;
 for (let i = 0; i <= 5; i++) {
 const y = padding.top + (chartHeight * i / 5);
 ctx.beginPath();
 ctx.moveTo(padding.left, y);
 ctx.lineTo(width - padding.right, y);
 ctx.stroke();

 // Y-axis labels
 const value = maxVal - (maxVal - minVal) * i / 5;
 ctx.fillStyle = '#666';
 ctx.font = '11px Rubik';
 ctx.textAlign = 'right';
 ctx.fillText('$' + Math.round(value).toLocaleString(), padding.left - 10, y + 4);
 }

 // Draw lines
 function drawLine(data, color) {
 ctx.strokeStyle = color;
 ctx.lineWidth = 2;
 ctx.beginPath();

 for (let i = 0; i < data.length; i++) {
 const x = padding.left + (i / (data.length - 1)) * chartWidth;
 const y = padding.top + chartHeight - ((data[i] - minVal) / (maxVal - minVal)) * chartHeight;

 if (i === 0) {
 ctx.moveTo(x, y);
 } else {
 ctx.lineTo(x, y);
 }
 }
 ctx.stroke();
 }

 drawLine(flat, '#aa66ff');
 drawLine(quarter, '#ff8800');
 drawLine(half, '#00e0ff');
 drawLine(full, '#00ff88');

 // X-axis label
 ctx.fillStyle = '#666';
 ctx.font = '11px Rubik';
 ctx.textAlign = 'center';
 ctx.fillText('Number of Bets', width / 2, height - 10);
}

function updateResults(type, history, startBankroll) {
 const final = history[history.length - 1];
 const growth = ((final - startBankroll) / startBankroll) * 100;

 document.getElementById(type + 'Final').textContent = '$' + Math.round(final).toLocaleString();
 document.getElementById(type + 'Growth').textContent = (growth >= 0 ? '+' : '') + growth.toFixed(1) + '%';
}

function generateInsight(full, half, quarter, flat, start) {
 const fullFinal = full[full.length - 1];
 const halfFinal = half[half.length - 1];
 const quarterFinal = quarter[quarter.length - 1];
 const flatFinal = flat[flat.length - 1];

 let insight = '';

 if (fullFinal > halfFinal && fullFinal > quarterFinal && fullFinal > flatFinal) {
 insight = 'Full Kelly finished highest this run, but notice the volatility. Half Kelly achieved ' +
 Math.round((halfFinal / fullFinal) * 100) + '% of Full Kelly with much smoother growth. For most bettors, that tradeoff is worth it.';
 } else if (halfFinal >= fullFinal) {
 insight = 'Half Kelly actually beat Full Kelly this run! This happens because Full Kelly variance can work against you. ' +
 'This is exactly why professionals prefer fractional Kelly, it is more consistent.';
 } else {
 const winner = flatFinal > quarterFinal ? 'Flat betting' : 'Quarter Kelly';
 insight = winner + ' performed surprisingly well. In shorter timeframes or with uncertain edges, conservative strategies often outperform. ' +
 'The key is matching your strategy to your confidence in your edge.';
 }

 document.getElementById('insightText').textContent = insight;
}

// Run initial simulation on load
document.addEventListener('DOMContentLoaded', function() {
 runSimulation();
});
</script>

</body>
</html>
